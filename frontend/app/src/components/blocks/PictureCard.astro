---
import type { ComponentProps } from "astro/types";
type AstroImageOptions = ComponentProps<typeof Image>;

import { Image } from 'astro:assets';

interface Props {
    src:            string;
    alt?:           string;
    narrow?:        boolean;
    zoomable?:      boolean;
    astro_image?:   AstroImageOptions;
    [propName: string]: any;
}

const {
    src,
    alt,
    narrow = false,
    zoomable = false,
    astro_image,
    ...attributes
} = Astro.props

import Picture from "@components/blocks/Picture.astro";
import Card from "@components/blocks/Card.astro";
---

<Card {...attributes}>
    <Picture
        slot="cover"
        src={src}
        alt={alt ? alt : undefined}
        size={256}
        narrow={narrow}
        mask={true}
        zoomable={zoomable}
        astro_image={astro_image ? astro_image : undefined}
    />

    <slot name="header" slot="header" />
    <slot name="actions" slot="actions" />
    <slot />
</Card>